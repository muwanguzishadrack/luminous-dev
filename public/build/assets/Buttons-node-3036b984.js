import{D as _t,r as y,G as yt,m as xt,o as u,c,h as o,u as s,a,e as V,n as r,t as p,f as _,g as h,b as m,F as ht,d as ft,w as gt,ap as Vt,ad as Tt,ae as Bt,l as Ut}from"./app-d65cc6ad.js";import{E as kt,_ as Ct}from"./ellipsis-674ef471.js";import{b as Lt,u as wt,c as T,d as B}from"./vue-flow-core-ed038db2.js";import{_ as Nt}from"./Menubar.vue_vue_type_script_setup_true_lang-023c5f31.js";import{_ as R}from"./MenubarItem.vue_vue_type_script_setup_true_lang-f33b13c9.js";import{_ as Rt}from"./MenubarContent.vue_vue_type_script_setup_true_lang-c35a7f5d.js";import{_ as $t}from"./MenubarMenu.vue_vue_type_script_setup_true_lang-366844fb.js";import{_ as St}from"./MenubarTrigger.vue_vue_type_script_setup_true_lang-7a67b588.js";import{_ as b}from"./FormInput-cef6e779.js";import{_ as Et}from"./FormSelect-149292fa.js";import{_ as It}from"./FormTextArea-723ba4e4.js";import Dt from"./FlowMedia-2e24d4a9.js";import{_ as Mt}from"./_plugin-vue_export-helper-c27b6911.js";import"./createLucideIcon-faa40dd3.js";import"./index-748fa515.js";import"./utils-5c9d1106.js";import"./index-a4420621.js";import"./hidden-7933a274.js";import"./use-text-value-16cd3154.js";const d=f=>(Tt("data-v-44c914ea"),f=f(),Bt(),f),Pt={class:"rounded-sm border border-gray-200 bg-white p-3 shadow-md"},qt={class:"flex flex-col gap-y-2"},zt={class:"flex justify-between items-center"},At={class:"flex gap-x-2"},Ht=d(()=>a("img",{src:Ct,class:"mt-1 h-4 w-4",alt:"LLM icon"},null,-1)),Ft={class:"flex flex-col gap-y-1"},Ot={key:1,class:"text-base"},Zt={key:0,class:"flex items-center gap-x-2 bg-red-500 text-white rounded-md px-2 py-2"},jt=Ut('<span data-v-44c914ea><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" data-v-44c914ea><g fill="none" data-v-44c914ea><path d="m12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035q-.016-.005-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093q.019.005.029-.008l.004-.014l-.034-.614q-.005-.018-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z" data-v-44c914ea></path><path fill="currentColor" d="m13.299 3.148l8.634 14.954a1.5 1.5 0 0 1-1.299 2.25H3.366a1.5 1.5 0 0 1-1.299-2.25l8.634-14.954c.577-1 2.02-1 2.598 0M12 15a1 1 0 1 0 0 2a1 1 0 0 0 0-2m0-7a1 1 0 0 0-.993.883L11 9v4a1 1 0 0 0 1.993.117L13 13V9a1 1 0 0 0-1-1" data-v-44c914ea></path></g></svg></span><span class="text-sm" data-v-44c914ea>Please fill all the required fields</span>',2),Gt=[jt],Wt=d(()=>a("span",{class:"text-sm text-gray-500"},"Send interactive buttons or a call to action button to your recipients.",-1)),Jt={class:"mb-4"},Kt=d(()=>a("label",{class:"text-sm mb-2"},"Header (Optional)",-1)),Qt={key:1,class:"mb-4"},Xt=d(()=>a("label",{class:"text-sm mb-2"},[a("span",{class:"text-red-500"},"*"),h(" Header Text")],-1)),Yt={class:"mb-4"},te=d(()=>a("label",{class:"text-sm mb-2"},[a("span",{class:"text-red-500"},"*"),h(" Body")],-1)),ee={class:"mb-4"},ae=d(()=>a("label",{class:"text-sm mb-2"},"Footer Text (Optional)",-1)),le={class:"mb-4"},oe=d(()=>a("label",{class:"text-sm mb-2"},"Button type:",-1)),se={class:"flex space-x-4"},ne=["value"],de={class:"ml-2 text-gray-700"},ue={key:3,class:"border rounded p-3"},ie=d(()=>a("label",{class:"mb-2"},[a("span",{class:"text-red-500"},"*"),h(" Reply Buttons (atleast 1 button)")],-1)),re={class:"mb-4 relative"},ce=d(()=>a("label",{class:"text-sm mb-2"},"Button 1 Label",-1)),pe={class:"text-xs text-gray-500"},me={class:"mb-4 relative"},be=d(()=>a("label",{class:"text-sm mb-2"},"Button 2 Label",-1)),ve={class:"text-xs text-gray-500"},_e={class:"mb-2 relative"},ye=d(()=>a("label",{class:"text-sm mb-2"},"Button 3 Label",-1)),xe={class:"text-xs text-gray-500"},he={key:4,class:"border rounded p-3"},fe=d(()=>a("label",{class:"text-sm mb-2"},"CTA Button",-1)),ge={class:"mb-4"},Ve=d(()=>a("label",{class:"text-sm mb-2"},"Display text",-1)),Te={class:"mb-4"},Be=d(()=>a("label",{class:"text-sm mb-2"},"Button URL",-1)),x=20,Ue=_t({__name:"Buttons-node",props:{id:{},type:{},selected:{type:Boolean},connectable:{type:[Boolean,Number,String,Function]},position:{},dimensions:{},label:{},isValidTargetPos:{type:Function},isValidSourcePos:{type:Function},parent:{},parentNodeId:{},dragging:{type:Boolean},resizing:{type:Boolean},zIndex:{},targetPosition:{},sourcePosition:{},dragHandle:{},data:{},events:{}},setup(f){var $,S,E,I,D,M,P,q,z,A,H,F,O,Z,j,G,W,J,K,Q,X,Y,tt,et,at,lt,ot;const i=f,C=y("Interactive Buttons"),st=y(i.data.uuid),t=y({type:"interactive buttons",headerType:((S=($=i.data.metadata)==null?void 0:$.fields)==null?void 0:S.headerType)||"none",headerText:((I=(E=i.data.metadata)==null?void 0:E.fields)==null?void 0:I.headerText)||"",headerMedia:((M=(D=i.data.metadata)==null?void 0:D.fields)==null?void 0:M.headerMedia)||[],body:((q=(P=i.data.metadata)==null?void 0:P.fields)==null?void 0:q.body)||"",footer:((A=(z=i.data.metadata)==null?void 0:z.fields)==null?void 0:A.footer)||"",buttonType:((F=(H=i.data.metadata)==null?void 0:H.fields)==null?void 0:F.buttonType)||"buttons",buttons:{button1:((j=(Z=(O=i.data.metadata)==null?void 0:O.fields)==null?void 0:Z.buttons)==null?void 0:j.button1)||"",button2:((J=(W=(G=i.data.metadata)==null?void 0:G.fields)==null?void 0:W.buttons)==null?void 0:J.button2)||"",button3:((X=(Q=(K=i.data.metadata)==null?void 0:K.fields)==null?void 0:Q.buttons)==null?void 0:X.button3)||""},ctaUrlButton:{displayText:((et=(tt=(Y=i.data.metadata)==null?void 0:Y.fields)==null?void 0:tt.ctaUrlButton)==null?void 0:et.displayText)||"",url:((ot=(lt=(at=i.data.metadata)==null?void 0:at.fields)==null?void 0:lt.ctaUrlButton)==null?void 0:ot.url)||""}}),nt=y([{label:"Reply Buttons",value:"buttons"},{label:"CTA URL Button",value:"cta_url"}]),dt=y([{value:"none",label:"None"},{value:"text",label:"Text"},{value:"image",label:"Image"},{value:"video",label:"Video"},{value:"audio",label:"Audio"},{value:"document",label:"Document"}]);yt(t,n=>{U.node.data.metadata.fields={...n},n.buttons.button1||v("a"),n.buttons.button2||v("b"),n.buttons.button3||v("c"),n.buttonType=="cta_url"?(v("a"),v("b"),v("c")):v("d")},{deep:!0});const L=(n,e)=>e.length<=3,w=y(!1),U=Lt(),{removeNodes:ut,nodes:it,addNodes:rt,removeEdges:ct,edges:pt}=wt();function v(n){pt.value.filter(l=>l.sourceHandle===n).forEach(l=>ct(l.id))}function mt(){ut(U.id)}function bt(){const{type:n,position:e,label:l,data:g}=U.node,k={id:(it.value.length+1).toString(),type:n,position:{x:e.x+100,y:e.y+100},label:l,data:g};rt(k)}const vt=xt(()=>{const n=t.value.buttons.button1!==""||t.value.buttons.button2!==""||t.value.buttons.button3!=="",e=t.value.ctaUrlButton.displayText!==""&&t.value.ctaUrlButton.url!=="",l=g=>/^(https?:\/\/)([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}(:\d+)?(\/\S*)?$/.test(g);return t.value.headerType!==""&&t.value.headerType==="text"&&t.value.headerText===""||t.value.headerType!==""&&t.value.headerType!=="text"&&t.value.headerType!=="none"&&t.value.headerMedia.length===0||t.value.body===""||t.value.buttonType==="buttons"&&!n||t.value.buttonType==="cta_url"&&(!e||!l(t.value.ctaUrlButton.url))});function N(n){return n.length}return(n,e)=>(u(),c("div",Pt,[o(s(B),{type:"target",position:s(T).Left},null,8,["position"]),a("div",qt,[a("div",zt,[a("div",At,[Ht,a("div",Ft,[w.value?(u(),V(b,{key:0,modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=l=>C.value=l),name:"",type:"text",class:r("col-span-4"),onBlur:e[1]||(e[1]=()=>w.value=!1)},null,8,["modelValue"])):(u(),c("h3",Ot,p(C.value),1))])]),o(s(Nt),{class:"border-none"},{default:_(()=>[o(s($t),null,{default:_(()=>[o(s(St),null,{default:_(()=>[o(s(kt))]),_:1}),o(s(Rt),null,{default:_(()=>[o(s(R),{onClick:bt},{default:_(()=>[h(" Duplicated ")]),_:1}),o(s(R),{onClick:mt},{default:_(()=>[h(" Delete ")]),_:1}),o(s(R),{onClick:e[2]||(e[2]=l=>w.value=!0)},{default:_(()=>[h(" Rename ")]),_:1})]),_:1})]),_:1})]),_:1})]),vt.value?(u(),c("div",Zt,Gt)):m("",!0),Wt,a("div",Jt,[Kt,o(Et,{modelValue:t.value.headerType,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.headerType=l),name:"",type:"text",optionClassName:"h-32",options:dt.value,class:r("col-span-4")},null,8,["modelValue","options"])]),t.value.headerType=="text"?(u(),c("div",Qt,[Xt,o(b,{modelValue:t.value.headerText,"onUpdate:modelValue":e[4]||(e[4]=l=>t.value.headerText=l),name:"",placeholder:"Enter header text",type:"text",class:r("col-span-4")},null,8,["modelValue"])])):m("",!0),t.value.headerType!="text"&&t.value.headerType!="none"?(u(),V(Dt,{key:2,modelValue:t.value.headerMedia,"onUpdate:modelValue":e[5]||(e[5]=l=>t.value.headerMedia=l),type:t.value.headerType,uuid:st.value,nodeId:s(U).id},null,8,["modelValue","type","uuid","nodeId"])):m("",!0),a("div",Yt,[te,o(It,{modelValue:t.value.body,"onUpdate:modelValue":e[6]||(e[6]=l=>t.value.body=l),placeholder:"Enter the main message for this message type",name:"",type:"text",class:r("col-span-4")},null,8,["modelValue"])]),a("div",ee,[ae,o(b,{modelValue:t.value.footer,"onUpdate:modelValue":e[7]||(e[7]=l=>t.value.footer=l),name:"",placeholder:"Enter footer text",type:"text",class:r("col-span-4")},null,8,["modelValue"])]),a("div",le,[oe,a("div",se,[(u(!0),c(ht,null,ft(nt.value,(l,g)=>(u(),c("label",{key:g,class:"inline-flex items-center cursor-pointer text-sm"},[gt(a("input",{type:"radio",value:l.value,"onUpdate:modelValue":e[8]||(e[8]=k=>t.value.buttonType=k),class:"form-radio text-blue-500 focus:ring-0 transition duration-150 ease-in-out"},null,8,ne),[[Vt,t.value.buttonType]]),a("span",de,p(l.label),1)]))),128))])]),t.value.buttonType=="buttons"?(u(),c("div",ue,[ie,a("div",re,[ce,o(b,{modelValue:t.value.buttons.button1,"onUpdate:modelValue":e[9]||(e[9]=l=>t.value.buttons.button1=l),maxLength:x,type:"text",class:r("col-span-4")},null,8,["modelValue"]),a("span",pe,p(N(t.value.buttons.button1))+" / "+p(x),1),t.value.buttons.button1?(u(),V(s(B),{key:0,id:"a",type:"source",position:s(T).Right,style:{right:"-25px"},connectable:L},null,8,["position"])):m("",!0)]),a("div",me,[be,o(b,{modelValue:t.value.buttons.button2,"onUpdate:modelValue":e[10]||(e[10]=l=>t.value.buttons.button2=l),maxLength:x,type:"text",class:r("col-span-4")},null,8,["modelValue"]),a("span",ve,p(N(t.value.buttons.button2))+" / "+p(x),1),t.value.buttons.button2?(u(),V(s(B),{key:0,id:"b",type:"source",position:s(T).Right,style:{right:"-25px"},connectable:L},null,8,["position"])):m("",!0)]),a("div",_e,[ye,o(b,{modelValue:t.value.buttons.button3,"onUpdate:modelValue":e[11]||(e[11]=l=>t.value.buttons.button3=l),maxLength:x,type:"text",class:r("col-span-4")},null,8,["modelValue"]),a("span",xe,p(N(t.value.buttons.button3))+" / "+p(x),1),t.value.buttons.button3?(u(),V(s(B),{key:0,id:"c",type:"source",position:s(T).Right,style:{right:"-25px"},connectable:L},null,8,["position"])):m("",!0)])])):m("",!0),t.value.buttonType=="cta_url"?(u(),c("div",he,[fe,a("div",ge,[Ve,o(b,{modelValue:t.value.ctaUrlButton.displayText,"onUpdate:modelValue":e[12]||(e[12]=l=>t.value.ctaUrlButton.displayText=l),type:"text",class:r("col-span-4")},null,8,["modelValue"])]),a("div",Te,[Be,o(b,{modelValue:t.value.ctaUrlButton.url,"onUpdate:modelValue":e[13]||(e[13]=l=>t.value.ctaUrlButton.url=l),type:"url",class:r("col-span-4")},null,8,["modelValue"])]),o(s(B),{id:"d",type:"source",position:s(T).Right},null,8,["position"])])):m("",!0)])]))}});const Ze=Mt(Ue,[["__scopeId","data-v-44c914ea"]]);export{Ze as default};
