import{T as C,q as V,e as $,f as h,o as d,a as s,t as i,h as f,g as _,u as m,i as j,j as B,n as N,c,d as b,F as v,w as S,s as z}from"./app-d65cc6ad.js";import M from"./App-234a23c6.js";import{_ as U}from"./FormInput-cef6e779.js";import"./Sidebar-07d71b9c.js";import"./Menu-1750e8ba.js";import"./ProfileModal-0c6a0985.js";import"./FormPhoneInput-44492bbe.js";/* empty css                      */import"./FormSelect-149292fa.js";import"./index-a4420621.js";import"./hidden-7933a274.js";import"./use-text-value-16cd3154.js";import"./transition-ff0cbc41.js";import"./micro-task-89dcd6af.js";import"./tabs-d7e92053.js";import"./LangToggle-cadbcda9.js";import"./MobileSidebar-5390b0de.js";import"./index-edb120b5.js";/* empty css              */const E={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] overflow-y-scroll"},O={class:"md:flex justify-between hidden"},Z={class:"text-xl mb-1"},F={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},P=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),A={class:"ml-1 mt-1"},D={class:"sm:flex border-b py-5"},T={class:"sm:w-[40%] mb-1"},W={class:"text-sm text-gray-500 tracking-[0px]"},q={class:"sm:w-[60%] sm:flex space-x-6"},L={class:"sm:w-[80%]"},G={class:"flex py-5"},H={class:"hidden sm:block w-[40%] mb-1"},I={class:"text-sm text-gray-500 tracking-[0px]"},J={class:"flex text-xs mt-2"},K=s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 24 24"},[s("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),Q={class:"sm:w-[60%] flex space-x-6"},R={class:"sm:w-[80%]"},X={class:"text-sm"},Y={class:"grid grid-cols-2 sm:grid-cols-3 mt-2"},ss={class:"flex h-6 items-center mr-2"},es=["onUpdate:modelValue","id","name"],ts={class:"text-sm leading-6"},os=["for"],is={class:"py-6"},rs={type:"submit",class:"float-right flex items-center space-x-4 rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm hover:bg-secondary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},Vs={__name:"Show",props:{title:String,role:Object,modules:Object,permissions:Object},setup(x){var u;const a=x,l=C({name:(u=a.role)==null?void 0:u.name,permissions:Object.fromEntries(a.modules.map(e=>[e.name,{}]))}),w=e=>e.split(","),p=e=>e.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),g=()=>{a.modules.forEach(e=>{const r=e.name;a.permissions.filter(n=>n.module===r).forEach(n=>{const o=n.action;l.permissions[r][o]=!0})})},y=async()=>{const e=a.role?window.location.pathname:"/admin/team/roles";l[a.role?"put":"post"](e,{preserveScroll:!0})};return V(()=>{g()}),(e,r)=>(d(),$(M,null,{default:h(()=>[s("div",E,[s("div",O,[s("div",null,[s("h1",Z,i(e.$t("Create role")),1),s("p",F,[P,s("span",A,i(e.$t("Create roles for administrative users")),1)])]),s("div",null,[f(m(j),{href:"/admin/team/roles",class:"rounded-md bg-slate-200 px-3 py-2 text-sm text-gray-700 shadow-sm hover:bg-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},{default:h(()=>[_(i(e.$t("Back")),1)]),_:1})])]),s("form",{onSubmit:r[1]||(r[1]=B(t=>y(),["prevent"])),class:"bg-white md:border py-5 px-5 rounded-[0.5rem]"},[s("div",D,[s("div",T,[s("h1",W,i(e.$t("Name")),1)]),s("div",q,[s("div",L,[f(U,{modelValue:m(l).name,"onUpdate:modelValue":r[0]||(r[0]=t=>m(l).name=t),type:"text",error:m(l).errors.name,class:N("w-full"),labelClass:"mb-0"},null,8,["modelValue","error"])])])]),s("div",G,[s("div",H,[s("h1",I,i(e.$t("Permissions")),1),s("span",J,[K,_(" "+i(e.$t("Choose the appropriate permissions for this role")),1)])]),s("div",Q,[s("div",R,[(d(!0),c(v,null,b(a.modules,(t,n)=>(d(),c("div",{class:"mb-4",key:n},[s("label",X,i(e.$t(p(t.name))),1),s("div",Y,[(d(!0),c(v,null,b(w(t.actions),o=>(d(),c("div",{key:o,class:"relative flex mb-2"},[s("div",ss,[S(s("input",{"onUpdate:modelValue":k=>m(l).permissions[t.name][o]=k,id:"permission["+t.name+"|"+o+"]",name:"permission["+t.name+"|"+o+"]",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600"},null,8,es),[[z,m(l).permissions[t.name][o]]])]),s("div",ts,[s("label",{for:"permission["+t.name+"|"+o+"]",class:"font-medium text-gray-900"},i(e.$t(p(o))),9,os)])]))),128))])]))),128))])])]),s("div",is,[s("button",rs,i(e.$t("Save")),1)])],32)])]),_:1}))}};export{Vs as default};
