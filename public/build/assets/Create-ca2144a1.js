import{r as d,T as b,G as x,q as w,e as y,f as u,o as _,a as t,t as i,h as a,g as $,u as l,i as V,j,n}from"./app-d65cc6ad.js";import C from"./App-234a23c6.js";import{_ as k}from"./FormInput-cef6e779.js";import{_ as B}from"./FormSelect-149292fa.js";import{_ as U}from"./FormSelectCombo-7f4cba76.js";import{_ as M}from"./FormTextArea-723ba4e4.js";import"./Sidebar-07d71b9c.js";import"./Menu-1750e8ba.js";import"./ProfileModal-0c6a0985.js";import"./FormPhoneInput-44492bbe.js";/* empty css                      */import"./transition-ff0cbc41.js";import"./hidden-7933a274.js";import"./use-text-value-16cd3154.js";import"./micro-task-89dcd6af.js";import"./tabs-d7e92053.js";import"./LangToggle-cadbcda9.js";import"./index-a4420621.js";import"./MobileSidebar-5390b0de.js";import"./index-edb120b5.js";/* empty css              */import"./use-tree-walker-78033913.js";const S={class:"bg-white md:bg-inherit pt-0 px-4 md:pt-8 md:p-8 rounded-[5px] text-[#000] overflow-y-scroll"},D={class:"md:flex justify-between hidden"},H={class:"text-xl mb-1"},L={class:"mb-6 flex items-center text-sm leading-6 text-gray-600"},N=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[t("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11v5m0 5a9 9 0 1 1 0-18a9 9 0 0 1 0 18Zm.05-13v.1h-.1V8h.1Z"})],-1),Z={class:"ml-1 mt-1"},A=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},[t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.841 5.28a.75.75 0 0 0-1.06-1.06L1.53 7.47L1 8l.53.53l3.25 3.25a.75.75 0 0 0 1.061-1.06l-1.97-1.97H14.25a.75.75 0 0 0 0-1.5H3.871l1.97-1.97Z","clip-rule":"evenodd"})],-1),E={class:"mt-5 mb-5 grid md:grid-cols-2 gap-x-8 gap-y-8"},O={class:"flex justify-end py-2"},T={type:"submit",class:"self-end flex items-center space-x-4 rounded-md bg-primary px-3 py-2 text-sm text-white shadow-sm hover:bg-secondary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},me={__name:"Create",props:["title","categories"],setup(c){const f=c,m=d(null),r=b({subject:null,category:null,message:null,user:null}),p=d([]);d([]);function h(e,s){fetch("/admin/users?search="+e,{headers:{Accept:"application/json"}}).then(o=>o.json()).then(o=>{s(o.rows)}).catch(o=>{console.error("Error fetching users:",o)})}const g=e=>e.map(s=>({value:s.id,label:s.name})),v=()=>{r.post("/admin/support")};return x(m,e=>{r.user=e==null?void 0:e.value}),w(()=>{p.value=g(f.categories)}),(e,s)=>(_(),y(C,null,{default:u(()=>[t("div",S,[t("div",D,[t("div",null,[t("h1",H,i(e.$t("Create ticket")),1),t("p",L,[N,t("span",Z,i(e.$t("Have an issue? Describe it in detail below")),1)])]),t("div",null,[a(l(V),{href:"/admin/support",class:"flex items-center space-x-4 rounded-md bg-slate-200 px-3 py-2 text-sm text-gray-700 shadow-sm hover:bg-slate-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary"},{default:u(()=>[A,$(" "+i(e.$t("Back")),1)]),_:1})])]),t("form",{onSubmit:s[4]||(s[4]=j(o=>v(),["prevent"])),class:"bg-white py-5 px-5 rounded-[0.5rem] md:w-2/3"},[t("div",E,[a(k,{modelValue:l(r).subject,"onUpdate:modelValue":s[0]||(s[0]=o=>l(r).subject=o),name:e.$t("Subject"),type:"text",error:l(r).errors.subject,class:n("col-span-2"),labelClass:"mb-0"},null,8,["modelValue","name","error"]),a(B,{modelValue:l(r).category,"onUpdate:modelValue":s[1]||(s[1]=o=>l(r).category=o),name:e.$t("Category"),options:p.value,error:l(r).errors.category,class:n("col-span-2 md:col-span-1"),placeholder:"Select Category"},null,8,["modelValue","name","options","error"]),a(U,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=o=>m.value=o),name:e.$t("User"),loadOptions:h,error:l(r).errors.user,class:n("col-span-2 md:col-span-1"),placeholder:"Enter user email"},null,8,["modelValue","name","error"]),a(M,{modelValue:l(r).message,"onUpdate:modelValue":s[3]||(s[3]=o=>l(r).message=o),name:e.$t("Description"),type:"text",showLabel:!0,error:l(r).errors.message,textAreaRows:5,class:n("col-span-2 mb-10")},null,8,["modelValue","name","error"])]),t("div",O,[t("button",T,i(e.$t("Create ticket")),1)])],32)])]),_:1}))}};export{me as default};
